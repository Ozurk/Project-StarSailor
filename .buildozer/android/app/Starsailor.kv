#:kivy 2.3.0
#:import utils kivy.utils

<Starsailor>:
    StartMenu:
    Map:
    HForgeFactory:
    HForgeTopDown:
    RustyLightWelderAside:


<StartMenu>
    name: "StartMenu"
    GridLayout:
        id: Root_Layout
        canvas.before:
            Color:
                rgba: (.15, .05, .15, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        cols: 1
        rows: 3
        TopButtons:
        Image:
            source: "pictures/active/coverphoto.jpg"
            size_hint: 1, .7
            keep_ratio: False
            allow_stretch: True
            size: self.texture_size
        BoxLayout:
            id: Bottom_Tool_Bar
            size_hint_y: .25
            orientation: "horizontal"
            Button:
                id: new_game_button
                text: "New Game"
                on_press: app.root.current = "Map"
            Button:
                text: "Load Game"
                on_press: app.root.current = "HForgeTopDown"
            Button:
                text: "Help"
        
<TopButtons>
    id: main_menu_top_buttons
    size_hint: 1, .20
    orientation: "horizontal"
    Image:
        source: "pictures/active/Starsailor_HELP.png"
        size_hint: .15, 1
    Image:
        source: "pictures/active/Starsailor_Banner.png"
        allow_stretch: True
        keep_ratio: False
        size_hint: .7, 1
        size: self.texture_size
    Image:
        source: "pictures/active/Starsailor_MENU.png"
        size_hint: .15, 1

    

    
<MoveButtons>
    Button:
        text: "<"
        font_size: 30
    Button:
        text: "<"
        font_size: 30
    Button:
        text: "^"
        font_size: 30
        on_press: MainGameWindow.scroll_up()
    Button:
        text: "\/"
        font_size: 30




<Boat>:
    source: "pictures/Morgans Pictures/boat.png"   




<Planet>:
    size_hint: None, None
    canvas.after:
        Color:
            rgba: .95, 0.1, .3, 1
        Ellipse:
            size: self.size
            pos: self.pos

<Map>:
    name: "Map"
    BoxLayout:
        orientation: "vertical"
        TopButtons:
            size_hint_y: .2
        ScrollView:
            id: _map
            Image:
                source: "pictures/Hunters Pictures/map.png"
                keep_ratio: False
                allow_stretch: True
                size: root.window_width * 5, root.window_height * 4
                size_hint: None, None
                Image:
                    source: "pictures/Hunters Pictures/hforge.png"
                    size: 700, 700
                    pos: 500, 600
                    on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "HForgeTopDown"
              
                Image:
                    size: 600, 600
                    pos: 1700, 700
                    source: "pictures/Hunters Pictures/Valdstafar.png"
                Planet:
                    size_hint: .25, .25
                    pos: 1500, 900
                Planet:
                    size_hint: .25, .25
                    pos: 100, 800

                Planet:
                    size_hint: .3, .3
                    pos: 400, 400
                    canvas.after:
                        Color:
                            rgba: 1, 1, 0, 1
                Boat:
                    size: 100, 100
                    id: ship


<HForgeTopDown>
    name: "HForgeTopDown"
    FloatLayout:
        Image:
            size_hint: .5, .5
            source: "pictures/Hunters Pictures/The forge.png"
            pos_hint: {'right': 1, 'bottom': 1}
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "HForgeFactory"
        
        Image:
            size_hint: .5, .5
            source: "pictures/Hunters Pictures/H forge store.png"
            pos_hint: {'left': 1, 'top': 1}

        
                
        

<HForgeFactory>
    name: "HForgeFactory"
    ScrollView:
    Image:
        source: 'pictures/Hunters Pictures/Heavens forge factory.png'
        RustyLightWelder:
            pos: 250, 250
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "RustyLightWelderAside"
        LightWelder:
            size_hint: None, None
            pos: 60, 250
            size: 160, 160
        LightWelder:
            size_hint: None, None
            pos: 140, 200
            size: 150, 150
        LightWelder:
            size_hint: None, None
            pos: 278, 200
            size: 200, 200
        LightWelder:
            size_hint: None, None
            pos: 300, 90
            size: 250, 250



<LightWelder>
    source: "pictures/Hunters Pictures/lightwelder.png"
    


<RustyLightWelder>
    source: "pictures/Hunters Pictures/Rusty light welder.png"

<RustyLightWelderAside>
    name: "RustyLightWelderAside"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: root.robot_dialoge
            size_hint_y: .3333
            font_size: 27
            text_size: self.size
            valign: "top"
            halign: "center"
        Image: 
            size_hint_y: .6666
            source: "pictures/Hunters Pictures/Rusty light welder.png"
            on_touch_down: if self.collide_point(*args[1].pos): root.rusty_lightwelder_dialoge()