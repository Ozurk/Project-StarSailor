#:kivy 2.3.0
#:import utils kivy.utils
# parent widget
<Starsailor>:
    orientation: 'vertical'
    # separate the help menu/inventory from the screenmanger
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: .2
        Image:
            id: HelpButton
            source: 'pictures/GUI/Starsailor_HELP.png'
            fit_mode: "fill"
            size_hint_x: .25
        Image:
            source: 'pictures/GUI/Starsailor_Banner.png'
            fit_mode: "fill"
        Image:
            source: 'pictures/GUI/Starsailor_MENU.png'
            fit_mode: 'fill'
            size_hint_x: .25
    RelativeLayout:
        ScreenManager:
            id: ScreenManager
            MainMenu:
            IntroScreen:
            Map:
            HeavensForgeLanding:
        BoxLayout:
            canvas.before:
                Color:
                    rgba: 0.2, 0.2, 0.2, .8  # Outline color (red in this case)
                Line:
                    width: 2  # Outline thickness
                    rectangle: self.x, self.y, self.width, self.height 
            orientation: "vertical"
            id: Inventory
            size_hint: .25, 1
            Label:
                text: "Money"
                size_hint_y: .15
            Label:
                text: str(root.money)
                size_hint_y: .15
            Label:
                text: "Inventory"
            GridLayout:
                id: Inventory_Grid
                rows: 6
                cols: 1
            

<MainMenu>
    name: 'MainMenu'
    RelativeLayout:            
        Image:
            source: 'pictures/startscreen/startscreen.png'
            fit_mode: 'fill'
        Button:
            text: "Start"
            pos_hint: {'center_x': .5, 'y': .2}
            size_hint: .3, .1
            background_color: (.1, .1, .1, .8)
            border: (20, 20, 20, 20)
            on_press: app.root.ids.ScreenManager.current = "IntroScreen"


<IntroScreen>
    name: "IntroScreen"
    RelativeLayout:
        Image:
            source: "pictures/map/map.png"
            fit_mode: "fill"
        Label: 
            size_hint: .8, .8
            pos_hint: {'center_x': .5, 'top': 1}
            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            color: (0, 0, 0, 1) 
            valign: "top"
            text: "Here is a whole bunch of text that that will be in this part"
        Button:
            text: "Continue"
            size_hint: .3, .2
            pos_hint: {'center_x': .5, 'top': .2}
            on_press: app.root.ids.ScreenManager.current = "Map"


<Map>
    name: "Map"
    ScrollView:
        Image:
            id: MapImage
            source: 'pictures/map/map.png'
            size_hint: None, None
            size: 1792, 1024
            fit_mode: 'fill'
            RelativeLayout:
                size: MapImage.size
                pos: MapImage.pos
                Image: 
                    size_hint: .1, .1
                    id: HeavensForgePlanet
                    source:  'pictures/map/heavens_forge.png'
                    on_touch_down: app.root.ids.ScreenManager.current = "HeavensForgeLanding"
                    
                Image:
                    size_hint: .1, .1
                    id: ChtakPlanet
                    source: "pictures/map/chtak.png"
                    pos_hint: {'x': .4, 'y': 0}
                

<HeavensForgeLanding>
    name: "HeavensForgeLanding"
    Image:
        source: "pictures/heavens_forge/heavens forge.png"
        RelativeLayout:
            Button:
                text: "Go Back"
                size_hint: .15, .2
                pos_hint: {'x': 0, 'center_y': .5}
            Button:
                text: "Enter"
                size_hint: .2, .15
                pos_hint: {"center_x": .5 , 'y': 0}
            Button:
                text: "Proceed" 
                size_hint: .15, .2
                pos_hint: {'right': 1, 'center_y': .5}

        







        
        


